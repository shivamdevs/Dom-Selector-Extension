/*
    Package: Dom-Selector
    Version: 2.0.0 [Minified]
    Author: Shivam Dewangan https://github.com/shivamdevs
    Repository: https://github.com/shivamdevs/dom-selector
    License: MIT License
*/

!function(e,t){const o=document.createElement("style");o.setAttribute("DomSelector",""),o.setAttribute("type","text/css"),o.innerHTML="dom-selector,dom-selector *,dom-selector-auto{box-sizing:border-box;display:block;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}dom-selector-auto{position:fixed;inset:auto 0 20px auto;background:#fff;padding:5px 10px;border-radius:20px 0 0 20px;box-shadow:-2px 2px 4px 2px #0002;border:1px solid #0004;border-right:none;z-index:999999999999999998;transition:all .2s ease;cursor:pointer;color:#000}dom-selector-auto:hover{color:#ff8c00}dom-selector-auto.auto{translate:calc(100% + 10px) 0}dom-selector{z-index:999999999999999999;position:fixed;top:0;left:0;width:40px;height:40px;background:#1e90ff77;border-style:solid;border-color:#ff8c0099;--bt:1px;--br:1px;--bb:1px;--bl:1px;--mt:0px;--mr:0px;--mb:0px;--ml:0px;--pt:0px;--pr:0px;--pb:0px;--pl:0px}dom-selector:not(.surfing){display:none}dom-selector{border-width:var(--bt) var(--br) var(--bb) var(--bl)}dom-selector::before{box-sizing:content-box;content:\" \";position:absolute;top:calc(0px - var(--mt) - var(--bt));right:calc(0px - var(--mr) - var(--br));bottom:calc(0px - var(--mb) - var(--bb));left:calc(0px - var(--ml) - var(--bl));border:0 solid #ff8c0055;border-width:var(--mt) var(--mr) var(--mb) var(--ml)}dom-selector::after{box-sizing:content-box;content:\" \";inset:0;position:absolute;border:0 solid #20c02077;border-width:var(--pt) var(--pr) var(--pb) var(--pl)}dom-selector-data{z-index:1;display:flex;align-items:baseline;flex-wrap:nowrap;position:absolute;inset:0 auto auto 0;margin:6px;background:#fff;overflow:hidden;box-shadow:2px 2px 4px 2px #0002,0 0 0 1px #0001;border-radius:6px;max-width:340px;padding:6px 6px 6px 18px}dom-selector-closer{display:inline-flex;justify-content:center;align-items:stretch;float:right;width:18px;height:18px;font-size:16px;line-height:14px;font-weight:700;color:red;box-shadow:0 0 0 1px red;border-radius:10px;user-select:none;cursor:pointer}dom-selector:not(.selected){user-select:none}dom-selector:not(.selected) dom-selector-closer{display:none}dom-selector-info{color:#727888;font-size:14px;font-weight:500;padding-right:12px;flex:1;max-width:300px}dom-selector-info span{display:inline-block}dom-selector-info span[node]{color:purple}dom-selector-info span[class]{color:#00f}dom-selector-info span[id]{color:#ff8c00}dom-selector-info span[display]{color:brown;padding-left:10px}dom-selector-info>div{display:block;margin:5px auto;font-size:12px}dom-selector-info div[dimension]:not(:last-child){border-bottom:1px solid #0002;padding-bottom:5px}dom-selector-info span[padding]{color:green;font-size:12px}dom-selector-info span[margin]{color:orange;font-size:12px}dom-selector-info div[border]{color:#1e90ff}dom-selector-info div[styling]{font-weight:700;display:flex;align-items:center}dom-selector-info div[styling]>span{min-width:14px;min-height:14px;border:1px solid #0005}dom-selector-data.setbelow{top:100%}dom-selector-data.fromright{right:0;left:auto}dom-selector-data.outside{translate:0 calc(-100% - 15px)}dom-selector-data.setbelow{translate:5px}dom-selector-data.scrollable{position:fixed;top:0;left:inherit;right:inherit}",document.head.appendChild(o);const n=document.createElement("dom-selector"),s=document.createElement("dom-selector-data"),r=document.createElement("dom-selector-closer"),i=document.createElement("dom-selector-info");n.classList.add("inactive"),r.innerHTML="×",r.addEventListener("click",c),s.appendChild(i),s.appendChild(r),n.appendChild(s),document.body.appendChild(n),e.addEventListener("mouseover",(function(e){n.classList.contains("inactive")||n.classList.contains("selected")||n.classList.add("surfing")})),e.addEventListener("mouseout",(function(e){n.classList.contains("inactive")||n.classList.contains("selected")||n.classList.remove("surfing")})),e.addEventListener("mousemove",d),e.addEventListener("scroll",d);const a={x:0,y:0};function d(t){if(n.classList.contains("inactive")||n.classList.contains("selected"))return;n.classList.remove("surfing"),i.innerHTML="",s.removeAttribute("class"),t.type&&"scroll"===t.type?(t.clientX=a.x,t.clientY=a.y):(a.x=t.clientX,a.y=t.clientY);const o=document.elementFromPoint(t.clientX,t.clientY);if(!o)return;const r=o.getBoundingClientRect(),d=e.getComputedStyle(o);(function(t){const o=t.getBoundingClientRect(),s=e.getComputedStyle(t);n.style.top=o.top+"px",n.style.left=o.left+"px",n.style.width=o.width+"px",n.style.height=o.height+"px",n.style.setProperty("--bt",parseInt(s.borderTopWidth,10)>=0?s.borderTopWidth:"0px"),n.style.setProperty("--br",parseInt(s.borderRightWidth,10)>=0?s.borderRightWidth:"0px"),n.style.setProperty("--bb",parseInt(s.borderBottomWidth,10)>=0?s.borderBottomWidth:"0px"),n.style.setProperty("--bl",parseInt(s.borderLeftWidth,10)>=0?s.borderLeftWidth:"0px"),n.style.setProperty("--mt",parseInt(s.marginTop,10)>=0?s.marginTop:"0px"),n.style.setProperty("--mr",parseInt(s.marginRight,10)>=0?s.marginRight:"0px"),n.style.setProperty("--mb",parseInt(s.marginBottom,10)>=0?s.marginBottom:"0px"),n.style.setProperty("--ml",parseInt(s.marginLeft,10)>=0?s.marginLeft:"0px"),n.style.setProperty("--pt",parseInt(s.paddingTop,10)>=0?s.paddingTop:"0px"),n.style.setProperty("--pr",parseInt(s.paddingRight,10)>=0?s.paddingRight:"0px"),n.style.setProperty("--pb",parseInt(s.paddingBottom,10)>=0?s.paddingBottom:"0px"),n.style.setProperty("--pl",parseInt(s.paddingLeft,10)>=0?s.paddingLeft:"0px")})(o),i.innerHTML=`<span node>${o.nodeName.toLowerCase()}</span>`,(o.classList.value||o.classList.length)&&(i.innerHTML+=o.classList.value.replace(/  +/g," ").split(" ").reduce((e,t)=>t&&e+"<span class>."+t+"</span>","")),(o.id||o.getAttribute("id"))&&(i.innerHTML+=`<span id>#${o.id||o.getAttribute("id")}</span>`),i.innerHTML+=`<div dimension>${l(r.width)}×${l(r.height)}${"block"!==d.display?`<span display>${d.display}</span>`:""}</div>`,i.innerHTML+=`<div styling>Bg:&nbsp;<span style="background: ${d.backgroundColor}" title="${d.backgroundColor}"></span>&nbsp;&nbsp;Color:&nbsp;<span style="background: ${d.color}" title="${d.color}"></span></div>`,d.padding&&"0px"!==d.padding&&(i.innerHTML+=`<span padding>${d.padding}</span>`),d.margin&&"0px"!==d.margin&&(i.innerHTML+=`${d.padding&&"0px"!==d.padding?"&nbsp;&nbsp;":""}<span margin>${d.margin}</span>`),d.border&&"0px"!==d.borderWidth&&"none"!==d.borderStyle&&(i.innerHTML+=`<div border>${d.border}</div>`),n.classList.add("surfing"),function(){const t=()=>s.getBoundingClientRect(),o=()=>n.getBoundingClientRect();t().height+20>o().height&&s.classList.add("outside"),t().left+t().width+15>e.innerWidth&&s.classList.add("fromright"),t().top-6<0&&s.classList.add("setbelow"),t().top+t().height+15>e.innerHeight&&s.classList.add("scrollable")}()}function l(e){return t=e=parseFloat(e),(Math.floor(t.valueOf())===t.valueOf()?0:t.toString().split(".")[1].length||0)>2&&(e=parseFloat(e.toFixed(2)))==parseFloat(e.toFixed(1))&&(e=parseFloat(e.toFixed(1))),e;var t}function c(){n.removeAttribute("class"),n.classList.add("inactive"),s.removeAttribute("class"),i.innerHTML="",n.removeAttribute("style")}e[t]=function(t=!1){return new Promise((o,s)=>{n.classList.contains("inactive")||n.classList.contains("selected")||s("Error: Another instance of 'DomSelector' is already running. Finish it before starting another one."),n.classList.contains("selected")&&c(),n.classList.remove("inactive"),e.addEventListener("mousedown",(function(e){n.classList.contains("inactive")&&s("Error: Another instance of 'DomSelector' is already running. Finish it before starting another one."),t&&n.classList.add("selected"),n.classList.remove("surfing");const r=document.elementFromPoint(e.clientX,e.clientY);t?n.classList.add("surfing"):c(),r?o(r):s("Error: Failed to find the Selected element. Try to fetch again.")}),{once:!0})})};let p=!1;e[t].autoSelect=function(){if(p)throw new Error("Error: AutoSelect is already enabled.");p=!0;const o=document.createElement("dom-selector-auto");o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" fill="currentColor" height="20"><path xmlns="http://www.w3.org/2000/svg" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM288 176c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 48.8 46.5 111.6 68.6 138.6c6 7.3 16.8 7.3 22.7 0c22.1-27 68.6-89.8 68.6-138.6zm-48 0c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"></path></svg>',document.body.appendChild(o),o.addEventListener("click",(function(n){this.classList.add("auto"),chrome.storage.sync.get(["domSelectorShowPreview"],(function(n){e[t](n.domSelectorShowPreview).then(e=>{console.log(e)}).finally(()=>{o.classList.remove("auto")})}))}))}}(window,"DomSelector"),chrome.storage.sync.get(["domSelectorAutoEnable","domSelectorShowPreview"],(function(e){e.domSelectorAutoEnable&&DomSelector.autoSelect()})),chrome.runtime.onMessage.addListener((e,t,o)=>{o({status:"ok"}),chrome.storage.sync.get(["domSelectorShowPreview"],(function(e){DomSelector(e.domSelectorShowPreview).then(e=>{console.log(e)})}))});